(this["webpackJsonpcom.javixlife.javixui"]=this["webpackJsonpcom.javixlife.javixui"]||[]).push([[79],{1245:function(e,a,t){"use strict";t.r(a);var l=t(11),i=t(15),n=t(13),r=t(12),o=t(95),s=t(0),c=t.n(s),u=t(587),d=t(1171),m=t(1172),h=t(1173),v=t(1174),p=t(1175),b=t(1166),f=t(1167),g=t(1168),E=t(1170),x=t(1169),B=t(172),D=t(57),F=t(26),S=(t(580),t(560)),y=t(173),N=(t(589),t(40)),P=t.n(N),C=(Object(F.b)((function(e){return{user:e.auth.login.userRole}}))((function(e){var a=e.component,t=e.fullLayout,l=Object(o.a)(e,["component","fullLayout"]);return c.a.createElement(D.a,Object.assign({},l,{render:function(e){return c.a.createElement(y.a.Consumer,null,(function(l){var i=!0===t?l.fullLayout:"horizontal"===l.state.activeLayout?l.horizontalLayout:l.VerticalLayout;return c.a.createElement(i,Object.assign({},e,{permission:e.user}),c.a.createElement(s.Suspense,{fallback:c.a.createElement(S.a,null)},c.a.createElement(a,e)))}))}}))})),function(e){Object(n.a)(t,e);var a=Object(r.a)(t);function t(){var e;Object(l.a)(this,t);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).state={fname:"",citizenLoginId:"",lname:"",gender:"",email:"",email_old:"",mobile:"",mobile_old:"",dob:"",qualification:"",specialization:"",country:"",mstate:"",district:"",addr:"",bgroup:"",aadhaar:"",aadhaar_old:"",myexection:"",pincode:"",fileuploads:"",curTime:(new Date).toLocaleString()},e.onChangeHandler=function(a){e.setState({fileuploads:a.target.files[0],loaded:0})},e.handleSubmit=function(a){a.preventDefault();var t=new Date,l="";l=t.getMonth()+1<=9?"0"+(t.getMonth()+1):t.getMonth()+1;var i="",n=new FormData;n.append("profile",e.state.fileuploads),P.a.post("http://159.65.148.197:3001/upload/profile",n,{}).then((function(a){i=a.data["profile-url"],console.log("Return Url="+i),void 0===e.state.email&&(e.state.email="");var n=t.getFullYear()+"-"+l+"-"+t.getDate(),r="screenerId="+localStorage.getItem("usermasid")+"&citizenLoginId="+e.state.citizenLoginId;r+="&token=dfjkhsdfaksjfh3756237&firstName="+e.state.fname+"&lastName="+e.state.lname,e.state.email!=e.state.email_old&&(r+="&email="+e.state.email),e.state.mobile!=e.state.mobile_old&&(r+="&mobileNo="+e.state.mobile),r+="&sex="+e.state.gender,r+="&dateOfBirth="+e.state.dob+"&dateOfOnBoarding="+n+"&bloodGroup="+e.state.bgroup,r+="&country="+e.state.country+"&state="+e.state.mstate,r+="&district="+e.state.district+"&pincode="+e.state.pincode+"&address="+e.state.addr+"&photo="+e.state.photo,console.log(r);P()({method:"post",url:"http://159.65.148.197:3001/api/citizen/updateCitizen",data:r,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){console.log("In Good way:"),console.log(e.data),1===e.data.status&&(alert("Profile Updated Successfully"),window.location="../../views/dashboard/citizenlist")})).catch((function(e){if(e.response){if(console.log("--------------------------------------------------------------------------------BOSS"),400===e.response.status){for(var a="",t=0;t<e.response.data.data.length;t++)a=a+"\r\n"+e.response.data.data[t].msg;return void alert(a)}console.log(e.response.data.data),console.log(),console.log(e.response.headers)}else e.request?console.log(e.request):console.log("Error",e.message)}))}))},e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("DID MOUNT ************"),this.mounted=!0,console.log("Citizen ID="+localStorage.getItem("citizenId")),P.a.post("http://159.65.148.197:3001/api/citizen/citizenById?=",{citizenId:localStorage.getItem("citizenId"),token:"dfjkhsdfaksjfh3756237"}).then((function(a){if(1===a.data.status){var t=a.data.data.data;e.setState({screenerId:t[0].screenerId}),e.setState({citizenLoginId:t[0].citizenLoginId}),e.setState({aadhaar_old:t[0].aadhaar}),e.setState({fname:t[0].firstName}),e.setState({lname:t[0].lastName}),e.setState({gender:t[0].sex}),e.setState({email:t[0].email}),e.setState({email_old:t[0].email}),e.setState({mobile:t[0].mobile}),e.setState({mobile_old:t[0].mobile}),e.setState({dob:t[0].info.dateOfBirth}),e.setState({specialization:t[0].info.specialisation}),e.setState({qualification:t[0].info.qualification}),e.setState({country:t[0].info.country}),e.setState({addr:t[0].info.addr}),e.setState({mstate:t[0].info.state}),e.setState({district:t[0].info.district}),e.setState({pincode:t[0].info.pincode}),e.setState({addr:t[0].info.address}),e.setState({photo:t[0].info.photo}),e.setState({bgroup:t[0].info.bloodGroup})}else console.log("Not Found")})).catch((function(a){console.log("Exception:"),console.log(a.response.data),0===a.response.data.status&&(e.state.notfound=0)}))}},{key:"render",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,c.a.createElement(d.a,null,c.a.createElement(m.a,{lg:"12",md:"12"},c.a.createElement(h.a,null,c.a.createElement(v.a,null,c.a.createElement(p.a,null,"Edit Citizen")),c.a.createElement(b.a,null,c.a.createElement(f.a,{action:"/",enctype:"multipart/form-data",onSubmit:this.handleSubmit},c.a.createElement(d.a,null,c.a.createElement(m.a,{sm:"6"},c.a.createElement(g.a,null,c.a.createElement(E.a,{for:"nameVertical"},"First Name"),c.a.createElement(x.a,{type:"text",name:"fname",id:"nameVertical",placeholder:"First Name",value:this.state.fname,onChange:function(a){return e.setState({fname:a.target.value})},required:!0}))),c.a.createElement(m.a,{sm:"6"},c.a.createElement(g.a,null,c.a.createElement(E.a,{for:"nameVertical"},"Last Name"),c.a.createElement(x.a,{type:"text",name:"lname",id:"nameVertical",placeholder:"Last Name",value:this.state.lname,onChange:function(a){return e.setState({lname:a.target.value})},required:!0}))),c.a.createElement(m.a,{sm:"3"},c.a.createElement(g.a,null,c.a.createElement(E.a,{for:"nameVertical"},"Aadhaar"),c.a.createElement(x.a,{type:"text",name:"aadhar",id:"nameVertical",value:this.state.aadhaar_old,disabled:!0})),c.a.createElement(g.a,null,c.a.createElement(E.a,{for:"EmailVertical"},"Gender"),c.a.createElement(u.a,{name:"colors",options:[{value:"Male",label:"Male",color:"#00B8D9",isFixed:!0},{value:"Female",label:"Female",color:"#00B8D9",isFixed:!0}],className:"React",classNamePrefix:"select",value:{label:this.state.gender,value:this.state.gender},defaultValue:{label:this.state.gender,value:this.state.gender},onChange:function(a){return e.setState({gender:a.value})},required:!0}))),c.a.createElement(m.a,{sm:"3"},c.a.createElement(g.a,null,c.a.createElement(E.a,{for:"EmailVertical"},"Date of Birth"),c.a.createElement(x.a,{type:"text",name:"mobile",id:"mobileVertical",placeholder:"DOB",value:this.state.dob,onChange:function(a){return e.setState({dob:a.target.value})},required:!0}))),c.a.createElement(m.a,{sm:"4"},c.a.createElement(g.a,null,c.a.createElement(E.a,{for:"EmailVertical"},"Email"),c.a.createElement(x.a,{type:"email",name:"Email",id:"EmailVertical",placeholder:"Email",value:this.state.email,onChange:function(a){return e.setState({email:a.target.value})}}))),c.a.createElement(m.a,{sm:"3"},c.a.createElement(g.a,null,c.a.createElement(E.a,{for:""},"Mobile"),c.a.createElement(x.a,{type:"phone",name:"mobile",maxLength:"10",id:"mobileVertical",placeholder:"Mobile",value:this.state.mobile,onChange:function(a){return e.setState({mobile:a.target.value})}}))),c.a.createElement(m.a,{sm:"4"},c.a.createElement(g.a,null,c.a.createElement(E.a,{for:"EmailVertical"},"Blood Group"),c.a.createElement(u.a,{name:"bgroup",options:[{value:"Blood Group",label:"Blood Group",color:"#00B8D9",isFixed:!0},{value:"A Positive",label:"A Positive",color:"#00B8D9",isFixed:!0},{value:"A Negative",label:"A Negative",color:"#00B8D9",isFixed:!0},{value:"B Positive",label:"B Positive",color:"#00B8D9",isFixed:!0},{value:"B Negative",label:"B Negative",color:"#00B8D9",isFixed:!0},{value:"AB Positive",label:"AB Positive",color:"#00B8D9",isFixed:!0},{value:"AB Negative",label:"AB Negative",color:"#00B8D9",isFixed:!0},{value:"O Positive",label:"O Positive",color:"#00B8D9",isFixed:!0},{value:"O Negative",label:"O Negative",color:"#00B8D9",isFixed:!0}],className:"React",classNamePrefix:"select",defaultValue:{label:this.state.bgroup,value:this.state.bgroup},onChange:function(a){return e.setState({bgroup:a.value})}}))),c.a.createElement(m.a,{sm:"4"},c.a.createElement(g.a,null,c.a.createElement(E.a,{for:"EmailVertical"},"Country Name"),c.a.createElement(u.a,{name:"country",options:[{value:"India",label:"India",color:"#00B8D9",isFixed:!0}],className:"React",classNamePrefix:"select",value:{label:this.state.country,value:this.state.country},defaultValue:{label:this.state.country,value:this.state.country},onChange:function(a){return e.setState({country:a.value})}}))),c.a.createElement(m.a,{sm:"4"},c.a.createElement(g.a,null,c.a.createElement(E.a,{for:"EmailVertical"},"State Name"),c.a.createElement(u.a,{name:"State",options:[{value:"0",label:"Please Select",color:"#00B8D9",isFixed:!0},{value:"AN",label:"Andaman and Nicobar Islands",color:"#00B8D9",isFixed:!0},{value:"AP",label:"Andhra Pradesh",color:"#00B8D9",isFixed:!0},{value:"AR",label:"Arunachal Pradesh",color:"#00B8D9",isFixed:!0},{value:"AS",label:"Assam",color:"#00B8D9",isFixed:!0},{value:"BR",label:"Bihar",color:"#00B8D9",isFixed:!0},{value:"CG",label:"Chandigarh",color:"#00B8D9",isFixed:!0},{value:"CH",label:"Chhattisgarh",color:"#00B8D9",isFixed:!0},{value:"Dadra and Nagar Haveli",label:"Dadra and Nagar Haveli",color:"#00B8D9",isFixed:!0},{value:"Daman and Diu",label:"Daman and Diu",color:"#00B8D9",isFixed:!0},{value:"Delhi",label:"Delhi",color:"#00B8D9",isFixed:!0},{value:"Gujarat",label:"Gujarat",color:"#00B8D9",isFixed:!0},{value:"Haryana",label:"Haryana",color:"#00B8D9",isFixed:!0},{value:"Himachal Pradesh",label:"Himachal Pradesh",color:"#00B8D9",isFixed:!0},{value:"Jammu and Kashmir",label:"Jammu and Kashmir",color:"#00B8D9",isFixed:!0},{value:"Jharkhand",label:"Jharkhand",color:"#00B8D9",isFixed:!0},{value:"Karnataka",label:"Karnataka",color:"#00B8D9",isFixed:!0},{value:"Kerala",label:"Kerala",color:"#00B8D9",isFixed:!0},{value:"Lakshadweep",label:"Lakshadweep",color:"#00B8D9",isFixed:!0},{value:"Madhya Pradesh",label:"Madhya Pradesh",color:"#00B8D9",isFixed:!0},{value:"Maharashtra",label:"Maharashtra",color:"#00B8D9",isFixed:!0},{value:"Manipur",label:"Manipur",color:"#00B8D9",isFixed:!0},{value:"Meghalaya",label:"Meghalaya",color:"#00B8D9",isFixed:!0},{value:"Mizoram",label:"Mizoram",color:"#00B8D9",isFixed:!0},{value:"Odisha",label:"Odisha",color:"#00B8D9",isFixed:!0},{value:"Puducherry",label:"Puducherry",color:"#00B8D9",isFixed:!0},{value:"Punjab",label:"Punjab",color:"#00B8D9",isFixed:!0},{value:"Rajasthan",label:"Rajasthan",color:"#00B8D9",isFixed:!0},{value:"Sikkim",label:"Sikkim",color:"#00B8D9",isFixed:!0},{value:"Tamil Nadu",label:"Tamil Nadu",color:"#00B8D9",isFixed:!0},{value:"Telangana",label:"Telangana",color:"#00B8D9",isFixed:!0},{value:"Tripura",label:"Tripura",color:"#00B8D9",isFixed:!0},{value:"Uttar Pradesh",label:"Uttar Pradesh",color:"#00B8D9",isFixed:!0},{value:"Uttarakhand",label:"Uttarakhand",color:"#00B8D9",isFixed:!0},{value:"West Bengal",label:"West Bengal",color:"#00B8D9",isFixed:!0}],className:"React",classNamePrefix:"select",value:{label:this.state.mstate,value:this.state.mstate},defaultValue:{label:this.state.mstate,value:this.state.mstate},onChange:function(a){return e.setState({mstate:a.value})}}))),c.a.createElement(m.a,{sm:"4"},c.a.createElement(g.a,null,c.a.createElement(E.a,{for:"EmailVertical"},"District Name"),c.a.createElement(x.a,{type:"text",name:"district",id:"EmailVertical",placeholder:"District",value:this.state.district,onChange:function(a){return e.setState({district:a.target.value})}}))),c.a.createElement(m.a,{sm:"4"},c.a.createElement(g.a,null,c.a.createElement(E.a,{for:"EmailVertical"},"Pin Code"),c.a.createElement(x.a,{type:"text",name:"pincode",maxLength:"6",id:"EmailVertical",placeholder:"Pin Code",value:this.state.pincode,onChange:function(a){return e.setState({pincode:a.target.value})}}))),c.a.createElement(m.a,{sm:"12"},c.a.createElement(g.a,null,c.a.createElement(E.a,{for:"EmailVertical"},"Citizen Address"),c.a.createElement(x.a,{type:"textarea",name:"Email",id:"EmailVertical",placeholder:"Address",value:this.state.addr,onChange:function(a){return e.setState({addr:a.target.value})}}))),c.a.createElement(d.a,null,c.a.createElement(m.a,{sm:"12"},c.a.createElement(g.a,null,c.a.createElement(E.a,{for:"nameVertical"},"Upload Photo"),c.a.createElement(x.a,{type:"file",name:"fileuploads",id:"nameVertical",placeholder:"Description",onChange:this.onChangeHandler}))),"-"),c.a.createElement(m.a,{sm:"12"},c.a.createElement(g.a,null,c.a.createElement(B.a.Ripple,{color:"primary",type:"submit",className:"mr-1 mb-1"},"Submit"),c.a.createElement(B.a.Ripple,{outline:!0,color:"warning",type:"reset",className:"mb-1"},"Reset"))))))))))}}]),t}(c.a.Component));a.default=C}}]);
//# sourceMappingURL=79.fc81768e.chunk.js.map