(this["webpackJsonpcom.javixlife.javixui"]=this["webpackJsonpcom.javixlife.javixui"]||[]).push([[63],{1264:function(e,t,a){"use strict";a.r(t);var s=a(11),l=a(15),n=a(66),r=a(13),o=a(12),c=a(0),i=a.n(c),u=a(1169),m=a(1171),d=a(1172),f=a(1173),b=a(1174),h=a(1166),p=a(1175),v=a(172),E=a(568),w=a.n(E),x=a(233),N=a(40),C=a.n(N),g=function(e){return i.a.createElement("div",{className:"d-flex flex-wrap justify-content-between"},i.a.createElement("div",{className:"add-new"}),i.a.createElement("div",{className:"position-relative has-icon-left mb-1"},i.a.createElement(u.a,{value:e.value,placeholder:"search",onChange:function(t){return e.handleFilter(t)}}),i.a.createElement("div",{className:"form-control-position"},i.a.createElement(x.a,{size:"15"}))))},D=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var l;return Object(s.a)(this,a),(l=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),window.confirm("Do you want to raise issue !")&&(window.location="../../views/dashboard/reportissue")},l.handleFilter=function(e){var t=e.target.value,a=l.state.data,s=l.state.filteredData;l.setState({value:t}),t.length&&(s=a.filter((function(e){console.dir(e.userId);var a=e.issueNo.toLowerCase().startsWith(t.toLowerCase())||e.issue.toLowerCase().startsWith(t.toLowerCase())||e.issueDetails.toLowerCase().startsWith(t.toLowerCase()),s=e.issue.toLowerCase().includes(t.toLowerCase())||e.info.firstName.toLowerCase().includes(t.toLowerCase())||e.issueDetails.toLowerCase().includes(t.toLowerCase());return a||(!a&&s?s:null)})),l.setState({filteredData:s}))},l.state={action:{0:"New Issue",1:"Assigned",2:"Resoved",3:"Closed"},columns:[{name:"Issue No",selector:"ID",sortable:!0,minWidth:"200px",cell:function(e){return i.a.createElement("div",{className:"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1"},i.a.createElement("div",{className:"user-info text-truncate ml-xl-50 ml-0"},i.a.createElement("small",{title:e.issueNo},i.a.createElement("a",{href:"#"},e.issueNo))))}},{name:"By User",selector:"User",sortable:!0,cell:function(e){return i.a.createElement("p",{className:"text-bold-500 text-truncate mb-0"},e.userId)}},{name:"Subject",selector:"subject",sortable:!0,cell:function(e){return i.a.createElement("p",{className:"text-bold-500 mb-0"},e.issue)}},{name:"Issue",selector:"issue",sortable:!0,cell:function(e){return i.a.createElement("p",{className:"text-bold-500  mb-0"},e.issueDetails)}},{name:"Date",selector:"date",sortable:!0,cell:function(e){return i.a.createElement("p",{className:"text-bold-500  mb-0"},e.createdAt)}},{name:"Status",selector:"satus",sortable:!0,cell:function(e){return i.a.createElement("p",{className:"text-bold-500  mb-0"},l.state.action[e.status])}}],data:[],filteredData:[],value:"",recs:[]},l.loadRecs=l.loadRecs.bind(Object(n.a)(l)),l}return Object(l.a)(a,[{key:"loadRecs",value:function(e){this.setState({data:e}),console.log(this.state.recs)}},{key:"componentDidMount",value:function(){var e=this;console.log("DID MOUNT ************"),this.mounted=!0,C.a.post("http://159.65.148.197:3001/api/issues/issuesByUser",{userId:localStorage.getItem("userid")}).then((function(t){if(console.log("Returned data:",t.data.status),1===t.data.status){t.data.message;var a=t.data.data.data;e.loadRecs(a)}}))}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.columns,s=e.value,l=e.filteredData;return i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{lg:"12",md:"12"},i.a.createElement(f.a,null,i.a.createElement(b.a,null),i.a.createElement(h.a,{className:"rdt_Wrapper"},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:"6"},i.a.createElement(p.a,null,"Issue List")),i.a.createElement(d.a,{sm:"6"},i.a.createElement(v.a.Ripple,{color:"primary",type:"button",className:"mr-1 mb-1",onClick:this.handleSubmit},"Raise an Issue"))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:"12"},i.a.createElement(w.a,{className:"dataTable-custom",data:s.length?l:t,columns:a,noHeader:!0,pagination:!0,subHeader:!0,subHeaderComponent:i.a.createElement(g,{value:s,handleFilter:this.handleFilter})}))))))))}}]),a}(i.a.Component);t.default=D}}]);
//# sourceMappingURL=63.d4e8620d.chunk.js.map