{"version":3,"sources":["views/dashboard/doctor/PatientList.js","assets/img/icons/viewprofile.png"],"names":["CustomHeader","props","className","value","placeholder","onChange","e","handleFilter","size","PatientList","handleSubmit","preventDefault","window","confirm","location","target","data","state","filteredData","setState","length","filter","item","console","dir","userId","startsWithCondition","citizens","firstName","toLowerCase","startsWith","lastName","includesCondition","includes","imgUrl","action","columns","name","selector","sortable","cell","row","style","cursor","onClick","handleClick","citizenId","caseId","loadData","screeners","setBMI","bmi","severity_bmi","margin","padding","setBP","bpsys","bpdia","severity_bp","setSOP2","spo2","severity_spo2","setPulse","pulse","severity_pulse","setTemp","temperature","severity_temperature","recs","loadRecs","bind","val","val1","background","color","borderRadius","this","log","_userid","_caseid","localStorage","removeItem","setItem","roleId","getItem","axios","post","then","response","status","message","filename","catch","mounted","token","Fragment","lg","md","sm","noHeader","pagination","subHeader","subHeaderComponent","React","Component","module","exports"],"mappings":"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","file":"static/js/56.b92ddb6c.chunk.js","sourcesContent":["import React from \"react\"\nimport {\n  Card,\n  CardBody,\n  CardHeader,\n  CardTitle,\n  Row,\n  Col,\n  Badge,\n  Input,\n  Button\n} from \"reactstrap\"\nimport DataTable from \"react-data-table-component\"\nimport { Star, Search } from \"react-feather\"\n\nimport * as Icon from \"react-feather\"\nimport axios from \"axios\";\nimport profileImg from \"../../../assets/img/icons/viewprofile.png\"\nconst CustomHeader = props => {\n  return (\n    <div className=\"d-flex flex-wrap justify-content-between\">\n      <div className=\"add-new\">\n        \n      </div>\n      <div className=\"position-relative has-icon-left mb-1\">\n        <Input value={props.value} placeholder=\"search\" onChange={e => props.handleFilter(e)} />\n        <div className=\"form-control-position\">\n          <Search size=\"15\" />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nclass PatientList extends React.Component {\n\n    setBMI(val,val1){\n        if(val>18 && val<=25 ){\n            return(<span style={{background:'#008000',padding:'4px',color:'white'}}>BMI:{val}</span>);\n        }else if(val>25 && val<=30){\n            return(<span style={{background:'#FFBF00',padding:'4px',color:'white'}}>BMI:{val}</span>);\n        }else if(val>30 || val<18){\n            return(<span style={{background:'red',padding:'4px',color:'white'}}>BMI:{val}</span>);\n        }\n    }\n    setBP(bpsys,bpdia,val1){\n\n        if(val1===0 ){\n            return(<span style={{background:'#008000',padding:'4px',color:'white',borderRadius:'25px;'}}>BP:{bpsys}/{bpdia}</span>);\n         }else if(val1===1){\n            return(<span style={{background:'#FFBF00',padding:'4px',color:'white'}}>BP:{bpsys}/{bpdia}</span>);\n         }else{\n            return(<span style={{background:'red',padding:'4px',color:'white'}}>BP:{bpsys}/{bpdia}</span>);\n         }\n    }\n    setSOP2(val,val1){\n        if(val1===0 ){\n            return(<span style={{background:'#008000',padding:'4px',color:'white'}}>SPO2:{val}</span>);\n        }else if(val1===1){\n            return(<span style={{background:'#FFBF00',padding:'4px',color:'white'}}>SPO2:{val}</span>);\n        }else{\n            return(<span style={{background:'red',padding:'4px',color:'white'}}>SPO2:{val}</span>);\n        }\n    }\n    setPulse(val,val1){\n        if(val1===0 ){\n            return(<span style={{background:'#008000',padding:'4px',color:'white'}}>Heart:{val}</span>);\n        }else if(val1===1){\n            return(<span style={{background:'#FFBF00',padding:'4px',color:'white'}}>Heart:{val}</span>);\n        }else{\n            return(<span style={{background:'red',padding:'4px',color:'white'}}>Heart:{val}</span>);\n        }\n    }\n    setTemp(val,val1){\n        if(val1===0){\n            return(<span style={{background:'#008000',padding:'4px',color:'white'}}>Temp(F):{val}</span>);\n        }else if(val1===1){\n            return(<span style={{background:'#FFBF00',padding:'4px',color:'white'}}>Temp(F):{val}</span>);\n        }else{\n            return(<span style={{background:'red',padding:'4px',color:'white'}}>Temp(F):{val}</span>);\n        }\n    }\n\n    setResp(val,val1){\n        if(val1===0 ){\n            return(<span style={{background:'#008000',padding:'4px',color:'white'}}>Resp:{val}</span>);\n        }else if(val1===1){\n            return(<span style={{background:'#FFBF00',padding:'4px',color:'white'}}>Resp:{val}</span>);\n        }else{\n            return(<span style={{background:'red',padding:'4px',color:'white'}}>Resp:{val}</span>);\n        }\n    }\n constructor(props) {\n    super(props);\t\n  this.state = {\n      \n    imgUrl:'',\n      action:{\"0\":\"New Issue\",\"1\":\"Assigned\",\"2\":\"Resoved\",\"3\":\"Closed\"},\n    columns: [\n      \n      {\n        name: \"Patient Details\",\n        selector: \"User\",\n        sortable: true,\n        cell: row => (\n         <div style={{cursor:'pointer'}}  onClick={() =>this.handleClick(row.citizenId,row.caseId,row)}>\n          {this.loadData()}\n          <p className=\"text-bold-500 mb-0\">{row.citizens[0].firstName + ' ' + row.citizens[0].lastName}</p>\n          <p className=\"text-bold-500 mb-0\">{'CASE ID:' + ' ' + row.caseId}</p>\n\t\t\t<p className=\"text-bold-500 mb-0 text-info\">{'Screener:' + ' ' + row.screeners[0].firstName + ' '+ row.screeners[0].lastName}</p>\t\t  \n          </div>\n        )\n      },\n      {\n        name: \"Alerts\",\n        selector: \"alerts\",\n        sortable: true,\n        cell: row => (\n         <div>     \n                                 \n          <p className=\"text-bold-500 mb-0\">\n          <span>{this.setBMI(row.bmi,row.severity_bmi)}</span>&nbsp;&nbsp;\n          <span style={{margin:'20px;',padding:'4px;'}}>{this.setBP(row.bpsys,row.bpdia,row.severity_bp)}</span>&nbsp;&nbsp;\n          <span style={{margin:'20px;',padding:'4px;'}}>{this.setSOP2(row.spo2,row.severity_spo2)}</span>&nbsp;&nbsp;\n          <span style={{margin:'20px;',padding:'4px;'}}>{this.setPulse(row.pulse,row.severity_pulse)}</span>&nbsp;&nbsp;\n          <span style={{margin:'20px;',padding:'4px;'}}>{this.setTemp(row.temperature,row.severity_temperature)}</span>&nbsp;&nbsp;\n          \n          </p>\n          </div>\n        )\n      }\n    ],\n    data: [],\n    filteredData: [],\n    value: \"\",\n\trecs:[]\n  }\n  this.loadRecs = this.loadRecs.bind(this);\n} // cosntructor\nloadRecs(recs)\n {\n\t \n\t this.setState({data:recs});\n\t console.log(this.state.recs);\n }\n\n handleClick(_userid,_caseid,row) {\n  localStorage.removeItem(\"caseReport\")  \n  localStorage.setItem(\"citizenId\",_userid);\n  localStorage.setItem(\"caseId\",_caseid);\n  this.loadData();\n  \n  console.log(\"case Report=\" + this.state.imgUrl);\n  localStorage.setItem(\"caseReport\",this.state.imgUrl);\n  var roleId=localStorage.getItem(\"roleId\");\n  if(roleId==='1'){\n\n    window.location='../../views/dashboard/patientview'\n  }else{\n    window.location='../../views/dashboard/patientviewscreener'\n  }\n  \n}\n\nloadData(){\n  localStorage.removeItem(\"caseReport\"); \n  axios.post('http://159.65.148.197:3001/api/report/createHistoryReport?=', { citizenId:localStorage.getItem(\"citizenId\")})\n  .then(response => {  \n       if(response.data.status===1){\n           var msg=response.data.message;\n           //var recs=response.data.data.data;\n           if( response.data.data.data.filename!==null){\n            //this.state._myurl=response.data.data.data.filename;\n            //localStorage.setItem(\"caseReport\",response.data.data.data.filename);\n              this.state.imgUrl=response.data.data.data.filename;\n             console.dir(\"Drug Allery Report\" + response.data.data.data.filename); \n           } \n         }\n  }).catch(e=>{\n   console.log(\"Exception:\"); \n   console.log(e);\n });\n}\n\n handleSubmit = e => {\n  e.preventDefault()\n  \n\n if(window.confirm(\"Do you want to raise issue !\")){\n\n //alert('okay')\n window.location='../../views/dashboard/reportissue'\n } \n\n}\n  \ncomponentDidMount() {console.log(\"DID MOUNT ************\");\n\t\tthis.mounted = true;\n\t\t//this.setState({data:null});\n    /*let postData=\"\"\n     if(localStorage.getItem(\"roleId\")===\"1\"){\n      postData=\"doctorId:\" + localStorage.getItem(\"usermasid\")+ \"&token:'dfjkhsdfaksjfh3756237'\";\n     }else if(localStorage.getItem(\"roleId\")===\"2\" || localStorage.getItem(\"roleId\")===\"21\"){\n      postData=\"screenerId:\" + localStorage.getItem(\"usermasid\")+ \"&token:'dfjkhsdfaksjfh3756237'\";\n     }*/\n\t\t  axios.post('http://159.65.148.197:3001/api/screening/getCaseDetails?=', {citizenId:localStorage.getItem(\"_citizenId\"),token:'dfjkhsdfaksjfh3756237'})\n\t\t .then(response => {\n\t\t\t\t\tconsole.log(\"Returned data:\", response.data.status);\n          console.log(\"User MasterId=\" + localStorage.getItem(\"usermasid\"))\n\t\t\t\t\tif(response.data.status===1)\n\t\t\t\t\t  {\n\t\t\t\t\t\t  var msg=response.data.message;\n\t\t\t\t\t\t  var recs=response.data.data.data;\n\t\t\t\t\t\t  this.loadRecs(recs);\n\t\t\t\t\t  }\n\t\t });// then\n     localStorage.removeItem(\"caseReport\"); \n  }\n\n  handleFilter = e => {\n    let value = e.target.value\n    let data = this.state.data\n    let filteredData = this.state.filteredData\n    this.setState({ value })\n\n    if (value.length) {\n      filteredData = data.filter(item => {\n\t\t  console.dir(item.userId);\n        let startsWithCondition =\n         \n           item.citizens[0].firstName.toLowerCase().startsWith(value.toLowerCase()) ||\n           item.citizens[0].lastName.toLowerCase().startsWith(value.toLowerCase()) \n        let includesCondition =\n          \n        item.citizens[0].firstName.toLowerCase().includes(value.toLowerCase()) ||\n        item.citizens[0].lastName.toLowerCase().includes(value.toLowerCase())\n\n        if (startsWithCondition) {\n          return startsWithCondition\n        } else if (!startsWithCondition && includesCondition) {\n          return includesCondition\n        } else return null \n      })\n      this.setState({ filteredData })\n    }\n\t\n  }\n\n  /* render for all */\n  render() {\n\n    let { data, columns, value, filteredData } = this.state\n    return (\n      <React.Fragment >\n\n\n         <Row>\n      <Col lg=\"12\" md=\"12\">\n      <Card>\n        <CardHeader>\n       \n        </CardHeader>\n        <CardBody className=\"rdt_Wrapper\">\n        <Row>\n          <Col sm=\"12\">\n          <CardTitle>Encounters List</CardTitle>\n          </Col>          \n          </Row>\n          <Row>\n          <Col sm=\"12\">\n          <DataTable\n            className=\"dataTable-custom\"\n            data={value.length ? filteredData : data}\n            columns={columns}\n            noHeader\n            pagination\n            subHeader\n            subHeaderComponent={\n              \n              <CustomHeader value={value} handleFilter={this.handleFilter} />\n            }\n          />\n          </Col>\n          </Row>\n        </CardBody>\n      </Card>\n      </Col>\n      </Row>\n      </React.Fragment>\n    )\n  }\n  /* ENd rebder */\n}\n\nexport default PatientList\n","module.exports = __webpack_public_path__ + \"static/media/viewprofile.08133088.png\";"],"sourceRoot":""}